name = "baby-timeline-worker"
main = "src/index.ts"
compatibility_date = "2025-09-06"

# 静态资源配置，使 Worker 可以直接服务 public 目录下的前端文件
[assets]
directory = "../public"

[vars]
SUPABASE_URL = "https://kyagwbanbaszoyalsgzj.supabase.co"
# SUPABASE_SERVICE_ROLE_KEY 和 FAMILY_TOKEN 请通过 wrangler secret put 写入
# R2_PUBLIC_URL 已弃用，改用 Worker 代理访问

[[r2_buckets]]
binding = "R2_BUCKET"
bucket_name = "baby-timeline-media"
